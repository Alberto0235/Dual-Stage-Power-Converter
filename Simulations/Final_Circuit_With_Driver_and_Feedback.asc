Version 4
SHEET 1 1412 1120
WIRE -912 64 -1184 64
WIRE -640 64 -752 64
WIRE -512 64 -640 64
WIRE -352 64 -512 64
WIRE -192 64 -352 64
WIRE -64 64 -160 64
WIRE 64 64 -64 64
WIRE 256 64 64 64
WIRE 384 64 256 64
WIRE 576 64 464 64
WIRE 896 64 576 64
WIRE 1088 64 896 64
WIRE 1104 64 1088 64
WIRE 64 96 64 64
WIRE -1184 128 -1184 64
WIRE -640 128 -640 64
WIRE -512 128 -512 64
WIRE 256 128 256 64
WIRE 576 128 576 64
WIRE 896 128 896 64
WIRE 1104 128 1104 64
WIRE -912 144 -912 64
WIRE -864 144 -912 144
WIRE -752 144 -752 64
WIRE -752 144 -800 144
WIRE -192 144 -192 64
WIRE -160 144 -160 64
WIRE -864 176 -912 176
WIRE -752 176 -800 176
WIRE 64 208 64 176
WIRE -1184 256 -1184 208
WIRE -912 256 -912 176
WIRE -912 256 -1184 256
WIRE -752 256 -752 176
WIRE -640 256 -640 192
WIRE -640 256 -752 256
WIRE -512 256 -512 192
WIRE -512 256 -640 256
WIRE -176 256 -176 208
WIRE 256 256 256 192
WIRE 576 256 576 192
WIRE 576 256 256 256
WIRE 896 256 896 208
WIRE 896 256 752 256
WIRE -752 288 -752 256
WIRE 64 288 64 272
WIRE 576 288 576 256
WIRE 1104 288 1104 208
WIRE 896 304 896 256
WIRE 0 432 -800 432
WIRE 752 432 752 256
WIRE 752 432 80 432
WIRE 896 432 896 384
WIRE -800 560 -800 432
WIRE -656 560 -800 560
WIRE -480 560 -576 560
WIRE -1088 624 -1088 544
WIRE 624 640 624 576
WIRE -48 672 -48 640
WIRE -624 688 -624 656
WIRE -80 688 -192 688
WIRE -800 704 -800 560
WIRE -656 704 -800 704
WIRE 192 704 -16 704
WIRE -480 720 -480 560
WIRE -480 720 -592 720
WIRE -80 720 -480 720
WIRE -656 736 -800 736
WIRE -48 768 -48 736
WIRE -624 784 -624 752
WIRE 624 784 624 720
WIRE -1088 800 -1088 704
WIRE -800 800 -800 736
WIRE -192 800 -192 688
WIRE -800 928 -800 880
WIRE -192 928 -192 880
FLAG -752 288 0
FLAG 1104 288 0
FLAG 624 576 Vg
FLAG -176 256 Vg
FLAG -64 64 Vs
FLAG 624 784 Vs
FLAG 1088 64 OUT
FLAG -1184 64 IN
FLAG 64 288 0
FLAG -352 64 OUT_raddrizzatore
FLAG 576 288 0
FLAG 896 432 0
FLAG -624 656 V+
FLAG -48 640 V+
FLAG -1088 544 V+
FLAG -1088 800 0
FLAG -48 768 0
FLAG -624 784 0
FLAG -800 928 0
FLAG -192 928 0
FLAG 192 704 PWM
SYMBOL voltage -1184 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName SOURCE
SYMATTR Value SINE(0 140 60)
SYMBOL ind 368 80 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L
SYMATTR Value 27µ
SYMATTR SpiceLine Rser=8m
SYMBOL cap 560 128 R0
SYMATTR InstName C
SYMATTR Value 56µ
SYMATTR SpiceLine V=100 Rser=96m
SYMBOL res 1088 112 R0
SYMATTR InstName LOAD
SYMATTR Value 5.76
SYMBOL AutoGenerated\\STP34NM60N -176 176 R270
SYMATTR InstName S1
SYMBOL AutoGenerated\\VS-ETU1506 256 160 R270
SYMATTR InstName D1
SYMBOL cap 48 208 R0
SYMATTR InstName Csnb
SYMATTR Value 56p
SYMBOL res 48 80 R0
SYMATTR InstName Rsnb
SYMATTR Value 47
SYMBOL AutoGenerated\\GBUE2560 -832 160 R0
SYMATTR InstName B1
SYMBOL cap -656 128 R0
SYMATTR InstName C1
SYMATTR Value 2400µf
SYMATTR SpiceLine V=400 Rser=63m
SYMBOL cap -528 128 R0
SYMATTR InstName C2
SYMATTR Value 2400µf
SYMATTR SpiceLine V=400 Rser=63m
SYMBOL res 880 112 R0
SYMATTR InstName R1
SYMATTR Value 100k
SYMBOL res 880 288 R0
SYMATTR InstName R2
SYMATTR Value 6.8k
SYMBOL res -560 544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 560
SYMBOL res 96 416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL OpAmps\\AD8030 -624 656 R0
SYMATTR InstName U1
SYMBOL OpAmps\\AD8030 -48 640 R0
SYMATTR InstName U2
SYMBOL bv 624 624 R0
SYMATTR InstName B2
SYMATTR Value V=IF(V(PWM) > 0.5,20,0)
SYMBOL voltage -1088 608 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 10
SYMBOL voltage -192 784 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vtriang
SYMATTR Value PULSE(0 5 0 5u 5u 0 10u)
SYMBOL voltage -800 784 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vdesired
SYMATTR Value 1.74
TEXT -1192 1072 Left 2 !.tran 15m
TEXT -1192 1040 Left 2 !.param Ts=10u D=0.2855
TEXT -808 1040 Left 2 !.meas Vo AVG V(OUT)
TEXT -808 1072 Left 2 !.meas Io AVG I(LOAD)
TEXT -456 1040 Left 2 !.meas Pout AVG V(OUT)*I(LOAD)
TEXT -456 1072 Left 2 !.meas Pin AVG RMS -V(IN)*I(SOURCE)
TEXT 40 1040 Left 2 !.meas Eff param Pout/Pin
TEXT 440 1040 Left 2 !.meas ID AVG Ix(D1:1)
TEXT 40 1072 Left 2 !.meas IL AVG I(L)
TEXT 440 1072 Left 2 !.meas IS AVG Ix(S1:D)
TEXT 808 1040 Left 2 !.meas IB AVG Ix(B1:+)
